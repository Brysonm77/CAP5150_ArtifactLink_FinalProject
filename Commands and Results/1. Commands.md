# This section will outline all commands used to analyze gather the evaluations

## File Transfer
* Creating the files (Server)
  * sudo mkdir -p /srv/testfiles
  * cd /srv/testfiles
  * sudo truncate -s 10M f10m.bin
  * sudo truncate -s 1G f1g.bin
  * sudo truncate -s 5G f5g.bin
  * sudo truncate -s 10G f10g.bin
* SCP files (Windows)
  *OpenSSH
   * scp -o Compression=no alloweduser@10.10.10.1:/srv/testfiles/f10m.bin .\f10m.bin
     * NOTE: change file. All files are noted above
  * WG
    * scp -o Compression=no alloweduser@10.0.0.1:/srv/testfiles/f1g.bin .\f1g_wg.bin
      * NOTE: change file. All files are noted above
     
## Security 
This explains how UFW is enabled and turns off port 22 availability. Also explains how to reset rules and how to disable UFW.
* Enabling UFW
  * sudo ufw default deny incoming
  * sudo ufw default allow outgoing
  * sudo ufw allow 51820/udp
  * sudo ufw deny 22/tcp
  * sudo enable
 * Resetting UFW
   * sudo ufw --force reset
  * Turning of UFW
    * sudo ufw disable 

The following will explain how packets were captured and then ran through Wireshark. NOTE: as soon as the tcpdump is ran on the server, the client MUST scp any file. The client will them retrieve the files.
* Packet capture
  * Packet capture (Server)
    * sudo tcpdump -ni any port 22 -w ssh_direct.pcap
      * OpenSSH packet capture
    * sudo tcpdump -ni any udp port 51820 -w wg_outer.pcap
      * WG tunnel (outside) packet capture
    * sudo tcpdump -ni wg0 -w wg_inner.pcap
      * Wg tunnel (inside) packet capture
   * Packet capture file (Windows)
     * scp -o compression=no alloweduser@10.10.10.1:/srv/testfiles/f10m.bin .\f10m_ssh_direct.bin
     * scp -o compression=no alloweduser@10.0.0.1:/srv/testfiles/f10m.bin .\f10m_wg_outer.bin
     * scp -o compression=no alloweduser@10.0.0.1:/srv/testfiles/f10m.bin .\f10m_wg_inner.bin
    * SCP from server to client (Windows)
      * scp alloweduser@10.10.10.1:/home/alloweduser/ssh_direct.pcap .\
      * scp alloweduser@10.10.10.1:/home/alloweduser/wg_outer.pcap
      * scp alloweduser@10.10.10.1:/home/alloweduser/wg_inner.pcap
  * Misc
    * ss -tulpen | egrep ':22|51820'
       * Shows all TCP/UDP sockets and which processes are listening.

The following will be steps used in Wireshark to further evaluate.
* Wireshark analysis
  * ssh_direct.pcap
    * Search bar
    * tcp.port == 22
      * Look under the following
        * Source
        * Destination
        * Expand 'Frame 1: Packet, ...'
  * wg_outer.pcap
    * tcp.port == 2
    * udp.port == 51820
      * Look under the following
        * Source
        * Destination
        * Expand 'Frame 1: Packet, ...'
   * wg_inner.pcap
     * tcp.port == 22
       * Look under the following
         * Source
         * Destination
         * Expand 'Frame 1: Packet, ...'
